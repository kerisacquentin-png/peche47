<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PÃªche 47 â€“ Guide intelligent</title>

<style>
body{margin:0;font-family:Arial;background:#e0f2e9}
header{background:#2e7d32;color:#fff;text-align:center;padding:15px;font-size:24px}
button{width:90%;padding:14px;margin:8px auto;display:block;font-size:18px;background:#388e3c;color:#fff;border:none;border-radius:10px}
section{display:none;padding:15px}
select,input{width:95%;padding:10px;margin:6px 0;font-size:16px}
img{width:100%;border-radius:8px;margin-top:8px}
.card{background:#fff;border-radius:12px;padding:12px;margin-bottom:12px}

.leurres-container{display:flex;gap:10px;margin-top:10px}
.leurre-card{flex:1;background:#f5f5f5;border-radius:10px;padding:10px;text-align:center}
</style>
</head>

<body>

<header>ðŸŽ£ PÃŠCHE 47 â€“ Guide de pÃªche</header>

<button onclick="show('journal')">Journal de captures</button>
<button onclick="show('spots')">Mes spots</button>
<button onclick="show('conseils')">Conseils montages / leurres</button>

<!-- JOURNAL -->
<section id="journal">
<h2>Ajouter une capture</h2>
<input id="j_espece" placeholder="EspÃ¨ce">
<input id="j_taille" type="number" placeholder="Taille (cm)">
<input id="j_poids" type="number" placeholder="Poids (kg)">
<input id="j_leurre" placeholder="Montage / leurre">
<input id="j_grammage" type="number" placeholder="Grammage (g)">
<input id="j_photo" type="file" accept="image/*">
<button onclick="addCapture()">Ajouter</button>
<div id="journalList"></div>
</section>

<!-- SPOTS -->
<section id="spots">
<h2>Ajouter un spot</h2>
<input id="spotName" placeholder="Nom du spot">
<select id="spotType">
<option>RiviÃ¨re</option>
<option>Lac</option>
<option>Ã‰tang</option>
</select>
<button onclick="addSpot()">Ajouter</button>
<div id="spotsList"></div>
</section>

<!-- CONSEILS -->
<section id="conseils">
<h2>Conseils intelligents</h2>

<select id="esp">
<option>Brochet</option>
<option>Sandre</option>
<option>Perche</option>
<option>Truite</option>
<option>Black Bass</option>
<option>Silure</option>
</select>

<select id="saison">
<option>Printemps</option>
<option>Ã‰tÃ©</option>
<option>Automne</option>
<option>Hiver</option>
</select>

<select id="meteo">
<option>Soleil</option>
<option>Couvert</option>
<option>Pluie</option>
</select>

<select id="eau">
<option>Clair</option>
<option>Trouble</option>
</select>

<select id="profondeur">
<option>Peu profonde</option>
<option>Moyenne</option>
<option>Profonde</option>
</select>

<button onclick="conseil()">Voir conseils</button>
<div id="result"></div>
</section>

<script>
show('journal');

/* NAV */
function show(id){
 document.querySelectorAll('section').forEach(s=>s.style.display='none');
 document.getElementById(id).style.display='block';
}

/* JOURNAL */
function addCapture(){
 const file=j_photo.files[0];
 const save=(photo)=>{
  const j=JSON.parse(localStorage.getItem('journal')||'[]');
  j.push({
    espece:j_espece.value,
    taille:j_taille.value,
    poids:j_poids.value,
    leurre:j_leurre.value,
    grammage:j_grammage.value,
    photo
  });
  localStorage.setItem('journal',JSON.stringify(j));
  displayJournal();
 };
 if(file){
  const r=new FileReader();
  r.onload=e=>save(e.target.result);
  r.readAsDataURL(file);
 } else save('');
}
function displayJournal(){
 const j=JSON.parse(localStorage.getItem('journal')||'[]');
 journalList.innerHTML=j.map(c=>`
  <div class="card">
   <b>${c.espece}</b> â€“ ${c.taille}cm â€“ ${c.poids}kg<br>
   ${c.leurre} (${c.grammage}g)
   ${c.photo?`<img src="${c.photo}">`:''}
  </div>
 `).join('');
}
displayJournal();

/* SPOTS */
function addSpot(){
 const s=JSON.parse(localStorage.getItem('spots')||'[]');
 s.push({name:spotName.value,type:spotType.value});
 localStorage.setItem('spots',JSON.stringify(s));
 displaySpots();
}
function displaySpots(){
 const s=JSON.parse(localStorage.getItem('spots')||'[]');
 spotsList.innerHTML=s.map(x=>`
  <div class="card">${x.name} (${x.type})</div>
 `).join('');
}
displaySpots();

/* CONSEILS INTELLIGENTS */
function conseil(){
 const espece=esp.value;
 const saison=saison.value;
 const meteo=meteo.value;
 const eau=eau.value;
 const profondeur=profondeur.value;

 const base={
  "Brochet":[
    {nom:"Spinnerbait",img:"spinnerbait.jpeg",desc:"Prospection des herbiers et bordures."},
    {nom:"Shad",img:"shad.jpeg",desc:"Animation lente prÃ¨s du fond et obstacles."}
  ],
  "Sandre":[
    {nom:"Shad",img:"shad.jpeg",desc:"PÃªche verticale ou linÃ©aire lente."},
    {nom:"TÃªte plombÃ©e",img:"tete_plombee.jpeg",desc:"Travail prÃ©cis du fond."}
  ],
  "Perche":[
    {nom:"Drop shot",img:"drop_shot.jpeg",desc:"Technique finesse trÃ¨s efficace."},
    {nom:"Micro shad",img:"shad.jpeg",desc:"Imitation des alevins."}
  ],
  "Truite":[
    {nom:"CuillÃ¨re",img:"cuillere.jpeg",desc:"DÃ©clenche lâ€™attaque par vibration."},
    {nom:"Poisson nageur",img:"crankbait.jpeg",desc:"Prospection des courants."}
  ],
  "Black Bass":[
    {nom:"Frog",img:"frog.jpeg",desc:"PÃªche de surface dans les herbiers."},
    {nom:"Crankbait",img:"crankbait.jpeg",desc:"Recherche active en bordure."}
  ],
  "Silure":[
    {nom:"Montage vif",img:"montage_vif.jpeg",desc:"PÃªche statique des gros sujets."},
    {nom:"Shad XXL",img:"shad.jpeg",desc:"Prospection lente en profondeur."}
  ]
 };

 let conseils=base[espece];

 if(eau==="Trouble") conseils=conseils.slice().reverse();
 if(saison==="Hiver") conseils[0].desc+=" Animation trÃ¨s lente.";
 if(meteo==="Pluie") conseils[1].desc+=" Les vibrations sont importantes.";
 if(profondeur==="Profonde") conseils[1].desc+=" Travail proche du fond.";

 result.innerHTML=`
  <h3>${espece} â€“ Conseils adaptÃ©s</h3>
  <div class="leurres-container">
   ${conseils.map(l=>`
    <div class="leurre-card">
     <b>${l.nom}</b>
     <img src="images/montages/${l.img}">
     <p>${l.desc}</p>
    </div>
   `).join('')}
  </div>
 `;
}
</script>

</body>
</html>
