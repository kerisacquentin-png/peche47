<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>P√™che 47</title>

<style>
body{margin:0;font-family:Arial;background:#0f3d2e;color:white}
header{background:#1b5e20;padding:20px;text-align:center;font-size:26px;font-weight:bold}
nav{display:flex;flex-wrap:wrap;justify-content:center;gap:8px;background:#2e7d32;padding:10px}
nav button{background:#4caf50;border:none;padding:10px 14px;border-radius:8px;color:white;font-weight:bold}
section{display:none;padding:20px}
section.active{display:block}
.card{background:#1c1c1c;padding:15px;border-radius:10px;margin-bottom:15px}
h2{color:#8bc34a}
select,input,textarea,button{width:100%;padding:10px;margin-top:8px;border-radius:8px;border:none}
button.action{background:#4caf50;color:white;font-weight:bold}
img{width:100%;border-radius:10px;margin-top:10px}
.post{border:1px solid #4caf50;padding:10px;border-radius:8px;margin-top:10px}
</style>
</head>

<body>

<header>üé£ P√äCHE 47</header>

<nav>
<button onclick="show('home')">Accueil</button>
<button onclick="show('leurres')">Conseils Leurres</button>
<button onclick="show('montages')">Montages</button>
<button onclick="show('capture')">Partager une capture</button>
<button onclick="show('chat')">Discussion</button>
</nav>

<section id="home" class="active">
<div class="card">
<h2>Bienvenue</h2>
<p>Carnet de p√™che intelligent : conseils, montages, captures avec photo et GPS.</p>
</div>
</section>

<section id="leurres">
<div class="card">
<h2>Conseils Leurres</h2>

<select id="l_espece">
<option>Brochet</option><option>Sandre</option><option>Perche</option>
<option>Truite</option><option>Black-bass</option><option>Chevesne</option>
</select>

<select id="l_saison">
<option>Printemps</option><option>√ât√©</option><option>Automne</option><option>Hiver</option>
</select>

<select id="l_profondeur">
<option>Peu profond</option><option>Moyen</option><option>Profond</option>
</select>

<button class="action" onclick="conseilLeurre()">Voir le conseil</button>
</div>

<div class="card" id="leurre_resultat"></div>
</section>

<section id="montages">
<div class="card">
<h2>Conseils Montages</h2>

<select id="m_espece">
<option>Brochet</option><option>Sandre</option><option>Perche</option>
<option>Truite</option><option>Black-bass</option>
</select>

<button class="action" onclick="conseilMontage()">Voir le montage</button>
</div>

<div class="card" id="montage_resultat"></div>
</section>

<section id="capture">
<div class="card">
<h2>Partager une capture</h2>

<input id="c_espece" placeholder="Esp√®ce">
<input id="c_leurre" placeholder="Leurre utilis√©">
<input id="c_montage" placeholder="Montage">
<input type="file" id="c_photo" accept="image/*">

<button class="action" onclick="getGPS()">üìç Utiliser ma position GPS</button>
<p id="gps"></p>

<button class="action" onclick="saveCapture()">Enregistrer</button>
</div>

<div id="captures"></div>
</section>

<section id="chat">
<div class="card">
<h2>Discussion</h2>
<textarea id="msg" placeholder="Ton message..."></textarea>
<button class="action" onclick="sendMsg()">Envoyer</button>
</div>
<div id="messages"></div>
</section>

<script>
function show(id){
document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
document.getElementById(id).classList.add('active');
}

/* LEURRES */
function conseilLeurre(){
const e=document.getElementById('l_espece').value;
document.getElementById('leurre_resultat').innerHTML=
`<h2>${e}</h2><p>Leurre adapt√© √† l'esp√®ce, saison et profondeur s√©lectionn√©es.</p>`;
}

/* MONTAGES */
function conseilMontage(){
const e=document.getElementById('m_espece').value;
document.getElementById('montage_resultat').innerHTML=
`<h2>${e}</h2><p>Montage recommand√© : t√™te plomb√©e / drop shot / cuill√®re selon conditions.</p>`;
}

/* GPS */
let lat=null,lon=null;
function getGPS(){
navigator.geolocation.getCurrentPosition(p=>{
lat=p.coords.latitude.toFixed(5);
lon=p.coords.longitude.toFixed(5);
document.getElementById('gps').innerText=`üìç ${lat} , ${lon}`;
});
}

/* CAPTURE */
function saveCapture(){
const file=document.getElementById('c_photo').files[0];
const reader=new FileReader();
reader.onload=()=>{
const div=document.createElement('div');
div.className='post';
div.innerHTML=
`<strong>${c_espece.value}</strong><br>
Leurre: ${c_leurre.value}<br>
Montage: ${c_montage.value}<br>
GPS: ${lat}, ${lon}<br>
<img src="${reader.result}">`;
document.getElementById('captures').prepend(div);
};
if(file)reader.readAsDataURL(file);
}

/* CHAT */
function sendMsg(){
const div=document.createElement('div');
div.className='post';
div.innerText=msg.value;
messages.prepend(div);
msg.value='';
}
</script>

</body>
</html>
